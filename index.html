<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orange County Double Winners</title>

  <!-- Favicon & Logo -->
  <link rel="icon" href="images/favicon2.ico" sizes="any">
  <link rel="apple-touch-icon" href="images/logo2.png">

  <style>
    :root{
      --bg:#0f1115; --panel:#141824; --text:#e7ebf3; --muted:#9aa4b2;
      --link:#7aa2ff; --link-hover:#a9c1ff; --border:#222836; --radius:16px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,"Helvetica Neue",Arial,sans-serif;line-height:1.6}
    a{color:var(--link);text-decoration:none}
    a:hover{color:var(--link-hover);text-decoration:underline}
    header{position:sticky;top:0;background:rgba(15,17,21,.8);backdrop-filter:saturate(140%) blur(8px);
      border-bottom:1px solid var(--border);z-index:20}
    .wrap{max-width:1100px;margin:auto;padding:24px}
    .brand{display:flex;align-items:center;gap:14px}
    .brand img{height:32px;width:auto;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}
    .brand h1{margin:0;font-size:1.6rem}
    nav{margin-top:10px}
    nav a{margin-right:18px;font-weight:600}

    .card{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
      box-shadow:var(--shadow);padding:22px}

    /* Top layout: 2 columns (left column stacks two cards) */
    .top{display:grid;gap:18px;margin:18px 0}
    @media(min-width:960px){ .top{grid-template-columns:1fr 1fr} }
    .left-col{display:grid;gap:18px}

    h2{margin:.2rem 0 1rem;font-size:1.35rem}
    .muted{color:var(--muted)}
    .btnrow{display:flex;flex-wrap:wrap;gap:10px;margin:.6rem 0 0}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;
      border:1px solid var(--border);background:#1a2030;color:var(--text);font-weight:600;cursor:pointer}
    .btn:hover{background:#20283b}

    /* Calendar */
    iframe.calendar{width:100%;min-height:620px;border:0;border-radius:12px;background:#0a0c12}
    .calendar-wrapper{background:#0a0c12;padding:6px;border-radius:12px}

    /* Readings grid */
    .pdf-grid{display:grid;gap:14px;margin-top:6px}
    @media(min-width:640px){ .pdf-grid{grid-template-columns:repeat(2,1fr)} }
    @media(min-width:920px){ .pdf-grid{grid-template-columns:repeat(3,1fr)} }
    .pdf-card{
      display:flex;flex-direction:column;gap:8px;
      background:#121826;border:1px solid var(--border);border-radius:12px;
      padding:12px;text-decoration:none;color:var(--text); cursor:pointer;
    }
    .pdf-card:hover{border-color:#2e3a56}
    .pdf-card img{width:100%;height:auto;border:1px solid var(--border);border-radius:8px;background:#0b0f16}
    .pdf-card span{font-weight:600}

    /* Inline Do/Don’t visuals */
    .cards-row{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px;justify-content:center}
    .cards-row img{max-width:300px;height:auto;border:1px solid var(--border);border-radius:8px}

    /* Contact form */
    .dw-form{margin-top:14px;display:grid;gap:12px}
    .dw-row{display:grid;gap:12px}
    @media(min-width:680px){ .dw-row{grid-template-columns:1fr 1fr} }
    .dw-form label{display:grid;gap:6px}
    .dw-form input,.dw-form textarea{
      background:#1a2030;color:var(--text);border:1px solid var(--border);
      border-radius:10px;padding:10px 12px;outline:none
    }
    .dw-form input:focus,.dw-form textarea:focus{border-color:#3d4a6a}
    .dw-note{margin-top:6px;color:var(--muted)}
    .dw-note.success{color:#a9e5b1}
    .dw-note.error{color:#ffb3b3}

    footer{border-top:1px solid var(--border);margin-top:30px}
    small{color:var(--muted)}

    /* ===== PDF Reader Overlay ===== */
    .pdf-modal{
      position:fixed; inset:0; display:none; place-items:center; z-index:1000;
      background:rgba(0,0,0,.85); padding:20px;
    }
    .pdf-modal.open{ display:grid; }
    .pdf-modal__panel{
      width:min(95vw,1000px); height:min(92vh,900px);
      background:#0b0f16; border:1px solid #2a3246; border-radius:14px; display:flex; flex-direction:column;
      box-shadow:0 20px 60px rgba(0,0,0,.6);
    }
    .pdf-modal__bar{
      display:flex; align-items:center; gap:10px; justify-content:space-between;
      padding:10px 12px; border-bottom:1px solid #222b3b; background:#121826; border-radius:14px 14px 0 0;
    }
    .pdf-modal__title{font-weight:700}
    .pdf-modal__actions{display:flex; gap:10px}
    .pdf-modal__actions a, .pdf-modal__actions button{
      border:1px solid var(--border); background:#1a2030; color:var(--text);
      padding:8px 12px; border-radius:10px; cursor:pointer; text-decoration:none; font-weight:600;
    }
    .pdf-modal__actions a:hover, .pdf-modal__actions button:hover{ background:#20283b }
    .pdf-frame{
      width:100%; height:100%; border:0; border-radius:0 0 14px 14px; background:#0b0f16;
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <img src="images/logo2.png" alt="Double Winners OC logo">
        <h1>OC Double Winners</h1>
      </div>
      <nav>
        <a href="#welcome">Welcome</a>
        <a href="#calendar">DW Meetings</a>
        <a href="#double-winner">What is a Double Winner?</a>
        <a href="#readings">Readings</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main class="wrap">

    <!-- Top: Left column (Welcome + What is), Right column (Calendar) -->
    <div class="top">
      <div class="left-col">
        <section id="welcome" class="card">
          <h2>Welcome to OC Double Winners!</h2>
          <p>
            OC Double Winners provides information on Double Winners meetings in Orange County, Calif.
            Here you’ll find meeting schedules, literature and downloadable group handouts to start your own Double Winners meeting.
            <br><br> Traditionally, Double Winners meetings are not recognized by either Al-Anon nor AA, and consequently are oftentimes not listed in local meeting directories.
            This site aims to help bridge that gap and provide a resource for those seeking Double Winners meetings in Orange County.
          </p>
        </section>

        <section id="double-winner" class="card">
          <h2>What is a Double Winner?</h2>
          <p>
            We call ourselves DOUBLE WINNERS because, firstly, we are WINNERS in that we follow the 12 steps of AA which teaches us how to live and deal with ourselves. Secondly, we are also WINNERS because we follow the 12 steps of Al-Anon which teaches us how to live and deal with everyone else in our lives. The two together makes us DOUBLE WINNERS, and through the two programs, we learn how to live internally and externally on the journey to greater serenity. Accordingly, we learn how to apply good principles and concepts in all our relationships, including with ourselves.
          </p>
        </section>
      </div>

      <section id="calendar" class="card">
        <h2 style="margin-bottom:.5rem">Double Winner Meetings in OC</h2>
        <div class="btnrow">
          <a id="openCal" class="btn" href="#" target="_blank" rel="noopener">Open in Google Calendar</a>
          <a id="icsLink" class="btn" href="#" target="_blank" rel="noopener">Subscribe (ICS)</a>
        </div>
        <div class="calendar-wrapper">
          <iframe
            id="gcalFrame"
            class="calendar"
            src="https://calendar.google.com/calendar/embed?mode=AGENDA&showTabs=0&showPrint=0&showTitle=0&bgcolor=%230a0c12&src=c_68a6088086a57a5f1a7552c92d86b7d64eda7be32444a1dcbed5f40f393b6042%40group.calendar.google.com&ctz=America%2FLos_Angeles"
            title="Double Winners OC Calendar">
          </iframe>
        </div>
      </section>
    </div>

    <!-- Readings -->
    <section id="readings" class="card">
      <h2>Readings</h2>

      <div class="pdf-grid">
        <a class="pdf-card" href="assets/Double-Winners-Leader-Format.pdf" data-pdf="assets/Double-Winners-Leader-Format.pdf">
          <img src="images/thumb-leader.png" alt="Double-Winners Leader Format thumbnail">
          <span>Double-Winners Leader Format (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/dw-secretary-format.pdf" data-pdf="assets/dw-secretary-format.pdf">
          <img src="images/thumb-secretary.png" alt="DW Secretary Format thumbnail">
          <span>DW Secretary Format (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/dos-and-donts.pdf" data-pdf="assets/dos-and-donts.pdf">
          <img src="images/thumb-dos.png" alt="Dos and Don’ts thumbnail">
          <span>Dos and Don’ts (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/dos_and_donts_business_card.pdf" data-pdf="assets/dos_and_donts_business_card.pdf">
          <img src="images/thumb-dos-card.png" alt="Dos and Don’ts Business Card thumbnail">
          <span>Dos and Don’ts Business Card (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/Detachment.pdf" data-pdf="assets/Detachment.pdf">
          <img src="images/thumb-detachment.png" alt="Detachment thumbnail">
          <span>Detachment (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/letting-go.pdf" data-pdf="assets/letting-go.pdf">
          <img src="images/thumb-lettinggo.png" alt="Letting Go thumbnail">
          <span>Letting Go (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/opening-prayer.pdf" data-pdf="assets/opening-prayer.pdf">
          <img src="images/thumb-prayer.png" alt="Opening Prayer thumbnail">
          <span>Opening Prayer (PDF)</span>
        </a>

        <a class="pdf-card" href="assets/Double-Winners-Meeting-Topics-2025.pdf" data-pdf="assets/Double-Winners-Meeting-Topics-2025.pdf">
          <img src="images/thumb-topics-2025.png" alt="Double Winners Meeting Topics 2025 thumbnail">
          <span>Double Winners Meeting Topics – 2025 (PDF)</span>
        </a>
      </div>

      <!-- Static visuals: Do / Don’t -->
      <div class="cards-row">
        <figure>
          <img src="images/do.PNG" alt="Do’s">
          <figcaption class="muted" style="text-align:center">Do’s</figcaption>
        </figure>
        <figure>
          <img src="images/dont.PNG" alt="Don’ts">
          <figcaption class="muted" style="text-align:center">Don’ts</figcaption>
        </figure>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="card">
      <h2>Contact</h2>
      <p>Would you like to add your Double Winner meeting to our directory? Email us at <a href="mailto:hello@doublewinnersoc.org">hello@doublewinnersoc.org</a>.</p>

      <!-- Contact Form -->
      <form id="contactForm" class="dw-form" data-endpoint="https://formspree.io/f/xwprebja">
        <div class="dw-row">
          <label>
            <span>Name</span>
            <input type="text" name="name" autocomplete="name" required />
          </label>
          <label>
            <span>Email</span>
            <input type="email" name="email" autocomplete="email" required />
          </label>
        </div>

        <label>
          <span>Subject</span>
          <input type="text" name="subject" required />
        </label>

        <label>
          <span>Message</span>
          <textarea name="message" rows="5" required></textarea>
        </label>

        <button type="submit" class="btn">Send</button>
        <div id="formNote" class="dw-note" aria-live="polite"></div>
      </form>
    </section>
  </main>

  <footer class="wrap">
    <small>
      © <span id="year"></span> Double Winners Orange County, Calif.<br>
      A public service site from the 
      <a href="https://sc-fc.org" target="_blank" rel="noopener">San Clemente Friendship Center</a>.<br>
      Contact us directly at <a href="mailto:hello@doublewinnersoc.org">hello@doublewinnersoc.org</a>
    </small>
  </footer>

  <!-- ===== PDF Reader Overlay ===== -->
  <div class="pdf-modal" id="pdfModal" aria-hidden="true" role="dialog" aria-label="Reader">
    <div class="pdf-modal__panel">
      <div class="pdf-modal__bar">
        <div class="pdf-modal__title" id="pdfTitle">Reader</div>
        <div class="pdf-modal__actions">
          <a id="pdfOpen" href="#" target="_blank" rel="noopener">Open PDF</a>
          <button id="pdfClose" type="button">Close</button>
        </div>
      </div>
      <iframe id="pdfFrame" class="pdf-frame" src="" title="PDF preview"></iframe>
    </div>
  </div>

  <script>
    (function(){
      const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();

      // Build “Open in Google Calendar” + ICS links
      const frame = document.getElementById('gcalFrame');
      const openBtn = document.getElementById('openCal');
      const icsBtn  = document.getElementById('icsLink');
      function param(u, k){ try{ return new URL(u).searchParams.get(k) || ""; }catch(e){ return ""; } }
      const src = param(frame.src,'src');
      if (src){
        if (openBtn) openBtn.href = "https://calendar.google.com/calendar/u/0/r?cid=" + encodeURIComponent(src);
        if (icsBtn) icsBtn.href  = "https://calendar.google.com/calendar/ical/" + encodeURIComponent(src) + "/public/basic.ics";
      }

      // Contact form (Formspree)
      const form = document.getElementById('contactForm');
      if (form){
        const note = document.getElementById('formNote');
        const endpoint = form.dataset.endpoint?.trim();
        function setNote(msg, ok){
          note.textContent = msg;
          note.classList.remove('success','error');
          note.classList.add(ok ? 'success' : 'error');
        }
        form.addEventListener('submit', async (e)=>{
          e.preventDefault();
          note.textContent = 'Sending...';
          note.className = 'dw-note';
          const data = {
            name: form.name.value.trim(),
            email: form.email.value.trim(),
            subject: form.subject.value.trim(),
            message: form.message.value.trim(),
            _site: 'doublewinnersoc.org'
          };
          if (endpoint) {
            try {
              const r = await fetch(endpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                body: JSON.stringify(data)
              });
              if (!r.ok) throw new Error('Network response not ok');
              form.reset();
              setNote
