<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Double Winners — Orange County</title>
  <meta name="description" content="Meeting info, schedules, and printable literature for Double Winners in Orange County, CA." />
  <link rel="icon" href="/favicon2.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg:#0b1220; --surface:#0f172a; --text:#e5e7eb; --muted:#94a3b8; --border:rgba(148,163,184,.25);
      --accent:#4f6fae; /* slate blue */
    }
    body{ background:var(--bg); color:var(--text); }
    header, footer{ background:rgba(15,23,42,.85); border-color:var(--border); backdrop-filter: blur(6px); }
    .surface{ background:var(--surface); }
    .muted{ color:var(--muted); }
    .bordered{ border:1px solid var(--border); }
    .btn-accent{ border:1px solid var(--accent); color:var(--accent); }
    .btn-accent:hover{ background:rgba(79,111,174,.14); }
    .bg-accent{ background:var(--accent); color:#061a24; font-weight:600; }
    .link-accent{ color:var(--accent); }
    .agenda-frame{ height: 880px; }
    @media (max-width: 768px){ .agenda-frame{ height: 560px; } }
    @media print{ header, nav, .no-print, .shadow { display:none!important; }
      body{ background:#fff!important; color:#111!important; }
      .surface{ background:#fff!important; border-color:#ddd!important; }
      a::after{ content:" (" attr(href) ")"; font-size:.85em; color:#555; } }
  </style>
</head>
<body class="min-h-screen">
  <!-- header -->
  <header class="sticky top-0 z-40 bordered">
    <div class="mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-3">
      <div class="flex items-center gap-3">
        <div class="grid h-9 w-9 place-items-center rounded-2xl bg-accent text-white font-bold">DW</div>
        <div>
          <h1 class="text-lg font-semibold leading-tight">Double Winners — Orange County</h1>
          <p class="text-xs muted">Meeting info • schedules • literature</p>
        </div>
      </div>
      <nav class="hidden gap-3 text-sm md:flex">
        <a href="#agenda" class="hover:underline link-accent">Meetings</a>
        <a href="#locations" class="hover:underline link-accent">Locations</a>
        <a href="#resources" class="hover:underline link-accent">Resources</a>
      </nav>
      <a id="subscribeBtn" target="_blank" rel="noreferrer" class="rounded-xl btn-accent px-3 py-2 text-sm">Add to Google Calendar</a>
    </div>
  </header>

  <!-- hero with agenda calendar -->
  <section class="bordered surface">
    <div class="mx-auto grid max-w-6xl grid-cols-1 items-start gap-6 px-4 py-8 md:grid-cols-2 md:py-10">
      <div>
        <h2 class="text-3xl font-bold md:text-4xl">Welcome to Double Winners — OC</h2>
        <p class="mt-3 muted">A simple home for meeting schedules, locations, and printable literature for our Orange County community.</p>
        <div class="mt-5 flex flex-wrap items-center gap-3">
          <a href="#agenda" class="inline-flex items-center gap-2 rounded-xl bg-accent px-4 py-2">See Meetings</a>
          <button onclick="window.print()" class="inline-flex items-center gap-2 rounded-xl btn-accent px-4 py-2">Print Literature</button>
        </div>
      </div>
      <div class="rounded-2xl bordered surface p-4 shadow-sm">
        <ul class="text-sm muted space-y-1">
          <li>✓ Live, auto-updating Google Calendar</li>
          <li>✓ One-click subscribe (Google & iCal)</li>
          <li>✓ Printer-friendly literature packets</li>
        </ul>
        <div class="mt-4 overflow-hidden rounded-xl bordered">
          <iframe id="agenda" class="w-full agenda-frame" loading="lazy" title="Double Winners OC Meetings (Agenda)"></iframe>
        </div>
        <div class="mt-3 flex flex-wrap items-center gap-3">
          <a id="openFullCal" target="_blank" rel="noreferrer" class="rounded-xl btn-accent px-3 py-2 text-sm">Open full calendar</a>
          <a id="icsLink" class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer">ICS feed</a>
        </div>
      </div>
    </div>
  </section>

  <!-- locations -->
  <section id="locations" class="bordered surface">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-14">
      <h3 class="text-2xl font-semibold">Locations</h3>
      <div class="mt-4 grid gap-4 md:grid-cols-2">
        <div class="rounded-2xl bordered surface p-4">
          <h4 class="text-base font-semibold">San Clemente – Community Center</h4>
          <div class="mt-2 text-sm">100 N Calle Seville, San Clemente, CA 92672</div>
          <a class="text-sm link-accent hover:underline" target="_blank" rel="noreferrer" href="https://maps.google.com/?q=100+N+Calle+Seville+San+Clemente+CA+92672">Open in Google Maps</a>
          <div class="mt-2 text-sm muted">Thursdays 7:00–8:15 PM (check calendar for holiday changes)</div>
          <div class="text-sm muted">Main room, free parking in rear lot.</div>
        </div>
        <div class="rounded-2xl bordered surface p-4">
          <h4 class="text-base font-semibold">Dana Point – Lantern Village</h4>
          <div class="mt-2 text-sm">24050 Dana Point Harbor Dr, Dana Point, CA 92629</div>
          <a class="text-sm link-accent hover:underline" target="_blank" rel="noreferrer" href="https://maps.google.com/?q=24050+Dana+Point+Harbor+Dr+Dana+Point+CA+92629">Open in Google Maps</a>
          <div class="mt-2 text-sm muted">Sundays 5:00–6:00 PM</div>
          <div class="text-sm muted">Upstairs; elevator available.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- resources -->
  <section id="resources" class="bordered surface">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-14">
      <div class="flex flex-wrap items-end justify-between gap-4">
        <div>
          <h3 class="text-2xl font-semibold">Printable Literature</h3>
          <p class="text-sm muted">Click to open or right‑click to save. Use the Print button above for a page handout.</p>
        </div>
        <button onclick="window.print()" class="no-print rounded-xl btn-accent px-3 py-2 text-sm">Print page</button>
      </div>
      <div class="mt-4 grid gap-4 md:grid-cols-2">
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">The Opening Prayer</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Standard opening used at OC Double Winners meetings.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-xl btn-accent px-3 py-2 text-sm" href="/resources/dw-opening-prayer.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-opening-prayer.pdf">Open</a></div></div>
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">Detachment</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Reading on healthy separation and boundaries.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-xl btn-accent px-3 py-2 text-sm" href="/resources/dw-detachment.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-detachment.pdf">Open</a></div></div>
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">Letting Go</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Reading to release what isn’t ours to carry.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-2xl btn-accent px-3 py-2 text-sm" href="/resources/dw-letting-go.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-letting-go.pdf">Open</a></div></div>
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">Do's and Don’ts</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Practical reminders for recovery in relationships.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-xl btn-accent px-3 py-2 text-sm" href="/resources/dw-dos-and-donts.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-dos-and-donts.pdf">Open</a></div></div>
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">Leader Format</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Suggested script/flow for meeting leaders.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-xl btn-accent px-3 py-2 text-sm" href="/resources/dw-leader-format.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-leader-format.pdf">Open</a></div></div>
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">Secretary Format</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Quick checklist and announcements.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-xl btn-accent px-3 py-2 text-sm" href="/resources/dw-secretary-format.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-secretary-format.pdf">Open</a></div></div>
        <div class="rounded-2xl bordered surface p-4"><div class="flex items-center justify-between"><h4 class="text-base font-semibold">Optional Closing Reading</h4><span class="text-xs muted">PDF</span></div><p class="mt-2 text-sm muted">Optional close to end the meeting.</p><div class="mt-3 flex flex-wrap gap-2"><a class="rounded-xl btn-accent px-3 py-2 text-sm" href="/resources/dw-optional-closing.pdf">Download</a><a class="rounded-xl btn-accent px-3 py-2 text-sm" target="_blank" rel="noreferrer" href="/resources/dw-optional-closing.pdf">Open</a></div></div>
      </div>
    </div>
  </section>

  <!-- footer -->
  <footer class="bordered">
    <div class="mx-auto flex max-w-6xl flex-col items-center justify-between gap-3 px-4 py-8 text-center md:flex-row">
      <div class="text-sm muted">© <span id="year"></span> Double Winners — Orange County</div>
      <div class="text-sm muted">Questions? Email <a class="link-accent hover:underline" href="mailto:hello@doublewinnersoc.org">hello@doublewinnersoc.org</a></div>
    </div>
  </footer>

  <!-- config + tiny script (no JSX) -->
  <script>
    // Paste your own values if you want to hard‑set them:
    window.DWOC_CONFIG = window.DWOC_CONFIG || {
      CAL_ID: '', // optional if using EMBED_SRC
      TIMEZONE: 'America/Los_Angeles',
      ICS_URL: ''
    };
    // Prefer explicit embed source (stable on iOS)
    window.DWOC_EMBED_SRC = window.DWOC_EMBED_SRC ||
      'https://calendar.google.com/calendar/embed?height=800&wkst=2&ctz=America%2FLos_Angeles&mode=AGENDA&src=Y182OGE2MDg4MDg2YTU3YTVmMWE3NTUyYzkyZDg2YjdkNjRlZGE3YmUzMjQ0NGExZGNiZWQ1ZjQwZjM5M2I2MDQyQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20&color=%233f51b5';

    const qp = new URLSearchParams(location.search);
    const embed = qp.get('embed') || window.DWOC_EMBED_SRC;
    const agenda = document.getElementById('agenda');
    agenda.src = embed;

    function extractId(u){
      try{ const url = new URL(u); let s = url.searchParams.get('src'); if(!s) return null;
        try{s=decodeURIComponent(s);}catch(e){}
        try{ const dec = atob(s); if(dec.includes('@')) return dec; }catch(e){}
        return s;
      }catch(e){ return null; }
    }
    const CAL_FOR_LINKS = (window.DWOC_CONFIG.CAL_ID) || extractId(embed) || '';
    const subscribe = CAL_FOR_LINKS ? `https://calendar.google.com/calendar/u/0/r?cid=${encodeURIComponent(CAL_FOR_LINKS)}` : '#';
    document.getElementById('subscribeBtn').href = subscribe;
    document.getElementById('openFullCal').href = subscribe;

    const icsExplicit = window.DWOC_CONFIG.ICS_URL;
    const icsDerived  = CAL_FOR_LINKS ? `https://calendar.google.com/calendar/ical/${encodeURIComponent(CAL_FOR_LINKS)}/public/basic.ics` : '';
    const icsFinal = icsExplicit || icsDerived;
    const icsEl = document.getElementById('icsLink');
    if(icsFinal){ icsEl.href = icsFinal; } else { icsEl.style.display='none'; }

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
